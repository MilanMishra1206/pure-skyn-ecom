const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B-27ansy.js","assets/index-B22gK32z.js","assets/index-CzPUeIw6.css"])))=>i.map(i=>d[i]);
import{G as Y,j as e,W as Z,L as P,X as A,Y as _,D as E,B as M,Z as ee,_ as te,I as R,J as se,F as ae,A as re,$ as ne,a0 as le,z as ie,a1 as oe,E as ce,r as d,w as de,a2 as S,a3 as F,a4 as xe,a5 as me,Q as pe,O as z,a6 as he}from"./index-B22gK32z.js";import{D as ue}from"./Drawer-F227E4IX.js";function fe(s){return Y({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M16 120h480v48H16zm80 112h320v48H96zm96 112h128v48H192z"},child:[]}]})(s)}const ge=({category:s})=>e.jsx("div",{className:"mb-4 py-4 font-poppins",children:e.jsxs(Z,{separator:">","aria-label":"breadcrumb",children:[e.jsx(P,{to:"/",className:"text-[#0f4a51] no-underline font-poppins hover:opacity-80 text-lg",children:"Home"}),s&&e.jsx(P,{to:"/products",className:"text-[#0f4a51] no-underline font-poppins hover:opacity-80 text-lg",children:"Products"}),s&&e.jsx(A,{className:"!text-coal !font-poppins !text-lg",children:_(s)}),!s&&e.jsx(A,{className:"!text-coal !font-poppins !text-lg",children:"Products"})]})}),be=({open:s,toggleDrawer:r,productTypes:n,selectedTypes:p,onChange:x})=>e.jsxs(ue,{anchor:"bottom",open:s,onClose:r(!1),PaperProps:{className:"rounded-t-2xl p-4"},children:[e.jsx("h2",{className:"text-xl font-bold mb-4 font-poppins",children:"Product Category"}),n.map(({key:o,label:l})=>e.jsx("div",{className:"mb-2",children:e.jsxs("label",{className:"inline-flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:p.includes(o),onChange:()=>x(o),className:"!cursor-pointer"}),e.jsx("span",{className:"text-coal capitalize",children:l.replace("-"," ")})]})},o))]}),ye=({categories:s,selectedCategory:r,onCategoryChange:n,productTypes:p,selectedTypes:x,onChange:o,isCollectionPage:l})=>{const i="#0f4a51";return e.jsxs("div",{className:"w-full bg-white shadow-md p-4 rounded-xl",children:[l&&e.jsxs("div",{className:"mb-6 pb-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold mb-3 font-poppins text-gray-800",children:"Shop By Category"}),e.jsx("div",{className:"mb-2 cursor-pointer",children:e.jsx("button",{onClick:()=>n("all"),className:`w-full text-left py-2 px-3 cursor-pointer rounded transition-all duration-200 text-sm font-medium 
                ${r==="all"?"bg-gray-100 text-gray-900 border-l-4 border-gray-400":"text-gray-600 hover:bg-gray-50"}`,children:"All Products"})}),s.map(c=>e.jsx("div",{className:"mb-2 cursor-pointer",children:e.jsx("button",{onClick:()=>n(c),className:`w-full text-left cursor-pointer py-2 px-3 rounded transition-all duration-200 text-sm font-medium capitalize 
                  ${r===c?"bg-gray-100 font-semibold border-l-4":"text-gray-600 hover:bg-gray-50"}`,style:r===c?{borderColor:i,color:i}:{},children:c})},c))]}),e.jsx("h2",{className:"text-xl font-bold mb-4 font-poppins text-gray-800",children:l?"Filter By Type":`${_(r)} Types`}),p.map(({key:c,label:m})=>e.jsx("div",{className:"mb-2",children:e.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.includes(c),onChange:()=>o(c),className:"w-4 h-4 border-gray-300 rounded focus:ring-transparent checked:bg-[#0f4a51] checked:border-transparent",style:{accentColor:i}}),e.jsx("span",{className:"text-coal capitalize text-sm",children:m.replace("-"," ")})]})},c))]})},je=({product:s,onAddToCart:r,onIncrease:n,onDecrease:p,onRemove:x,cartItems:o})=>{const l=E(),i=o?.find(u=>u.id===s.id),c=!!i,m=(u,j)=>`Save â‚¹${+u-+j}`;return e.jsxs("div",{className:"flex flex-col p-4 shadow-lg rounded-2xl font-poppins relative",children:[s.strikePrice&&e.jsx("button",{className:"absolute top-2 right-2 shadow-md rounded-xl py-2 px-1 text-sm font-semibold bg-[#0f4a51] text-white w-26",children:m(s.strikePrice,s.productPrice)}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:s.imgSrc,alt:s.productName,className:"rounded-xl h-60 w-56 cursor-pointer",onClick:()=>l(`/products/${s.category}/${s.productName}`)})}),e.jsxs("div",{className:"flex-1 mt-4 h-10",children:[e.jsx(P,{className:"font-bold text-coal hover:text-[#0f4a51] no-underline cursor-pointer",to:`/products/${s.category}/${s.productName}`,style:{display:"-webkit-box",WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:2},children:s.productName}),e.jsxs(M,{sx:{width:100,display:"flex",alignItems:"center",marginTop:"0.5rem"},children:[e.jsx(ee,{name:"text-feedback",value:s.ratings,readOnly:!0,precision:.5,emptyIcon:e.jsx(te,{style:{opacity:.55},fontSize:"inherit"})}),e.jsx(M,{sx:{ml:2},children:s.ratings})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"text-sm text-justify !text-kashmirBlue !cursor-default mt-4",style:{display:"-webkit-box",WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:2},children:s.productDescription}),e.jsx(P,{className:"underline !text-[#0f4a51] hover:!opacity-80 text-xs",to:`/products/${s.category}/${s.productName}`,children:"Read More"})]}),s.strikePrice&&e.jsx("span",{className:"mt-4 text-left text-slate-400 line-through font-bold mr-4",children:R(s.strikePrice)}),e.jsx("span",{className:"mt-4 text-left text-[#0f4a51] font-bold text-lg",children:R(s.productPrice)})]}),e.jsx("div",{className:"mt-4",children:c?e.jsx(se,{item:i,handleItemIncrease:()=>n(i),handleItemDecrease:()=>p(i),handleItemRemove:()=>x(i),isNotCartDrawer:!0}):e.jsxs("button",{className:"flex items-center gap-2 rounded-2xl cursor-pointer font-bold bg-[#0f4a51] text-white border hover:!border-black w-full justify-center hover:!border hover:!bg-white hover:!text-[#0f4a51] px-3 py-2 transition duration-500",onClick:()=>r(s),children:["Add To Cart ",e.jsx(ae,{size:"1.2rem"})]})})]})},ve=({products:s,onAddToCart:r,isMobile:n,totalProductCount:p,cartItems:x,onIncrease:o,onDecrease:l,onRemove:i})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex px-5 mb-2",children:e.jsxs("p",{className:"text-xs",children:["Total ",e.jsx("strong",{children:p})," items"]})}),e.jsx("div",{className:`grid md:grid-cols-2 xl:!grid-cols-3 gap-4 mb-4 cursor-pointer ${n?"px-3":"px-5"}`,children:s.map((c,m)=>e.jsx(je,{product:c,onAddToCart:r,cartItems:x,onIncrease:o,onDecrease:l,onRemove:i},m))})]}),Ne=({currentPage:s,totalPages:r,onPageChange:n})=>{const o=(()=>{let l=Math.max(1,s-1),i=l+3-1;return i>=r&&(i=r,l=Math.max(1,i-3+1)),Array.from({length:i-l+1},(c,m)=>l+m)})();return e.jsxs("div",{className:"flex justify-center my-4 font-poppins gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>n(1),disabled:s===1,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:shadow-lg cursor-pointer",children:"First"}),e.jsx("button",{onClick:()=>n(s-1),disabled:s===1,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:shadow-lg cursor-pointer",children:"< Prev"}),o.map(l=>e.jsx("button",{onClick:()=>n(l),className:`px-4 py-2 ${s===l?"bg-[#0f4a51] text-white":"bg-gray-200"} text-gray-700 hover:shadow-lg rounded`,children:l},l)),o[o.length-1]<r&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"px-4 py-2 text-gray-500 ",children:"..."}),e.jsx("button",{onClick:()=>n(r),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:shadow-lg cursor-pointer",children:r})]}),e.jsx("button",{onClick:()=>n(s+1),disabled:s===r,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:shadow-lg cursor-pointer",children:"Next >"}),e.jsx("button",{onClick:()=>n(r),disabled:s===r,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:shadow-lg cursor-pointer",children:"Last"})]})},we=d.lazy(()=>me(()=>import("./index-B-27ansy.js"),__vite__mapDeps([0,1,2]))),Ie=()=>{const s=re(),{category:r}=ne(),n=le(),p=E(),x=ie("(max-width: 768px)"),o=oe(),l=ce(t=>t.cart.items),[i,c]=d.useState(!1),[m,u]=d.useState([]),[j,T]=d.useState([]),[w,q]=d.useState(0),[I,g]=d.useState(1),[b,C]=d.useState(r||"all"),y=12,v=d.useMemo(()=>{const t=r||b,a=de;return t==="all"?a:a.filter(h=>h.category.toLowerCase()===t.toLowerCase())},[r,b]),k=v;d.useEffect(()=>{const t=r||"all";b!==t&&(C(t),u([]),g(1))},[r,b,C,u,g]);const $=d.useMemo(()=>{const t=new Set(v.map(a=>a.brand).filter(Boolean));return Array.from(t).map(a=>({key:a,label:a.charAt(0).toUpperCase()+a.slice(1)}))},[v]);d.useEffect(()=>{if(n.hash){let t=n.hash.replace("#","");t=decodeURIComponent(t);const a=$.some(h=>h.key.toLowerCase()===t.toLowerCase());if(!r&&n.pathname.split("/").length>2){const h=n.pathname.split("/")[2];h&&C(h)}a?(T([t]),u([])):(u([t]),T([])),g(1)}},[n.hash,n.pathname,b,r,$]);const B=d.useMemo(()=>{const t=new Set(v.map(a=>a.subCategory).filter(Boolean));return Array.from(t).map(a=>({key:a,label:a.charAt(0).toUpperCase()+a.slice(1)}))},[v]),V=t=>{u([]),g(1),t==="all"?p("/products",{replace:!0}):p(`/products/${t}`,{replace:!0}),C(t)},L=t=>()=>c(t),D=t=>{u(a=>{const h=a.includes(t);let N;return h?(N=a.filter(X=>X!==t),n.hash===`#${t}`&&p(n.pathname,{replace:!0})):N=[...a,t],g(1),N})},O=t=>{s(z({id:t.id,quantity:t.quantity+1}))},W=t=>{t.quantity>1&&s(z({id:t.id,quantity:t.quantity-1}))},Q=t=>{const a=l.find(h=>h.id===t.id);a?(O(a),o("Product Quantity Increased","info")):(s(he(t)),o("Product Added to Cart","success"))},H=t=>{s(pe(t.id)),o("Product Removed from Cart","info")},f=d.useMemo(()=>{let t=k;return m.length>0&&(t=t.filter(a=>m.includes(a.subCategory))),j.length>0&&(t=t.filter(a=>j.includes(a.brand))),t},[m,j,k]);d.useEffect(()=>{q(f?.length)},[f]);const G=()=>{const t=I*y,a=t-y;return f.slice(a,t)},U=t=>{t>=1&&t<=Math.ceil(f.length/y)&&g(t)},K=Math.ceil(f.length/y),J=()=>{const t=I*y,h=t-y+1,N=t>w?w:t;return`${h}-${N}`};return e.jsxs("div",{children:[e.jsx(d.Suspense,{children:e.jsx(we,{open:!1})}),e.jsx(S.div,{variants:F("left",.1),initial:"hidden",whileInView:"show",className:`mt-5 ${x?"p-3":"pt-5 pl-5"}`,children:e.jsx(ge,{category:r})}),x&&e.jsx("div",{className:"flex justify-start px-3 mb-4",children:e.jsxs("button",{onClick:L(!0),className:"flex items-center px-4 py-2 rounded gap-2 !bg-[#0f4a51] !text-white",children:[e.jsx(fe,{})," Filter"]})}),e.jsx(be,{open:i,toggleDrawer:L,productTypes:B,selectedTypes:m,onChange:D}),e.jsxs("div",{className:"flex flex-col lg:!flex-row",children:[!x&&e.jsx(S.div,{variants:F("right",.2),initial:"hidden",whileInView:"show",className:"flex gap-2 justify-center items-center mb-4 font-poppins px-5 self-start w-[25%]",children:e.jsx(ye,{categories:["all","skin","hair"],selectedCategory:b,onCategoryChange:V,productTypes:B,selectedTypes:m,onChange:D,isCollectionPage:!r})}),e.jsx(e.Fragment,{children:f.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px] px-4 text-center w-full lg:w-[60%]",children:[e.jsx(xe,{className:"text-5xl text-gray-400 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"We are adding products soon"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Stay tuned! New products will be available shortly."})]}):e.jsx(S.div,{variants:F("up",.2),initial:"hidden",whileInView:"show",className:"w-full lg:w-[75%]",children:e.jsx(ve,{products:G(),isMobile:x,totalProductCount:w,cartItems:l,onAddToCart:Q,onIncrease:O,onDecrease:W,onRemove:H})})})]}),f.length!==0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center my-4",children:e.jsxs("div",{className:"text-gray-700",children:["Showing ",J()," of ",w," items"]})}),e.jsx(Ne,{currentPage:I,totalPages:K,onPageChange:U})]})]})};export{Ie as default};
